@model DataObjects.Tournament

@{
    ViewBag.Title = "Details";
}


    <div class="row">

        <div class="col-12" style="padding:30px 30px;">
            <h3>Tournament Details of:</h3>
            <span style="font-weight:bold; font-size:3.2em">@Model.Name</span>
        </div>

        <div style="margin-top:10px">
            @if (@ViewBag.Message != null)
            {
                if (ViewBag.Error == false)
                {
                    <div class="alert alert-success">
                        <h5>@ViewBag.Message</h5>
                    </div>
                }
                else
                {
                    <div class="alert alert-danger">
                        <h5>@ViewBag.Message</h5>
                    </div>
                }
            }
        </div>

        <div class="col-12">

            <div class="row">

                <div class="col-md-12">

                    <div class="row">

                        <div class="col-md-3" style="padding:25px">
                            <a href="~/Tournaments/Details/@ViewBag.TournamentID" class="bg-info noDecoration" style=" display: flex; flex-direction: column;
                            align-items: center; padding: 5px 0px; color:black;
                            height: 150px; justify-content: center">
                                <h1 style="text-align:center">
                                    <span style="font-size:.8em">Overview</span>
                                </h1>
                            </a>
                        </div>

                        <div class="col-md-3" style="padding:25px">
                            <a href="~/Tournaments/Details?id=@ViewBag.TournamentID&&type=1" class="bg-info noDecoration" style="display:flex;flex-direction:column;
                            align-items:center;padding:5px 0px; height:150px; color:black;">
                                <h1 style="text-align:center">
                                    <span style="font-size:1.7em">@ViewBag.NbreTeam</span><br />
                                    @if (ViewBag.NbreTeam > 1)
                                    {
                                        <span style="font-size:.8em">Teams</span>
                                    }
                                    else
                                    {
                                        <span style="font-size:.8em">Team</span>
                                    }
                                </h1>
                            </a>
                        </div>

                        <div class="col-md-3" style="padding:25px">
                            <a href="~/Tournaments/Details?id=@ViewBag.TournamentID&&type=2" class="bg-info noDecoration" style="display:flex;flex-direction:column;
                            align-items:center;padding:5px 0px; height:150px; color:black;">
                                <h1 style="text-align:center">
                                    <span style="font-size:1.7em">@ViewBag.NbreGame</span><br />
                                    @if (ViewBag.NbreGame > 1)
                                    {
                                        <span style="font-size:.8em">Games</span>
                                    }
                                    else
                                    {
                                        <span style="font-size:.8em">Game</span>
                                    }
                                </h1>
                            </a>
                        </div>

                        @if (@ViewBag.Type == 1)
                        {
                            @*Teams*@
                            <div class="col-md-10" style="margin: 20px 15px;
                            padding:25px 50px; background-color: #F0F0F0">
                                @if (ViewBag.NbreTeam > 1)
                                {
                                    <h1 style="text-align:left; color:black">Teams</h1>
                                }
                                else
                                {
                                    <h1 style="text-align:left; color:black">Team</h1>
                                }

                            <div style="margin:30px 0px">
                                @foreach (var item in ViewBag.TournamentTeams)
                                {
                                    <a class="noDecoration" href=""
                                       style="display: flex; flex-direction: row; justify-content:start;
                                        align-items:center;padding:10px 20px; margin-top:5px; background-color:white">
                                        <div class="col-md-8" style="padding: 0px 20px">
                                            <p style="font-size:2em;color:black">
                                                @item.TeamName
                                            </p>
                                        </div>
                                        <div class="col-md-4" style="padding: 0px 20px">
                                            <span class="btn btn-success btn-lg">View Team</span>
                                        </div>
                                    </a>
                                }


                                @if (ViewBag.NbreTeam == 0)
                                {
                                    <div style="text-align:center; margin-top:50px">
                                        <h3>-- Empty -- </h3>
                                    </div>
                                }


                                @if (Model.MemberID == ViewBag.Me)
                                {
                                    <div style="text-align:center; margin-top:50px">
                                        <a href="~/Tournaments/TournamentTeam?id=@ViewBag.TournamentID&&sport_id=@Model.SportID" class="btn btn-primary btn-lg" style="padding:10px 30px; margin:0px 5px">Manage Teams</a>
                                    </div>
                                }
                            </div>

                            </div>
                        }
                        else if (@ViewBag.Type == 2)
                        {

                            @*Games*@
                    <div class="col-md-10" style="margin: 20px 15px;
                            padding:25px 50px; background-color: #F0F0F0">
                        @if (ViewBag.NbreGame > 1)
                        {
                            <h1 style="text-align:left; color:black">Games</h1>
                        }
                        else
                        {
                            <h1 style="text-align:left; color:black">Game</h1>
                        }

                        <div style="margin:30px 0px">
                            @foreach (var item in ViewBag.TournamentGames)
                            {
                                <a class="noDecoration" href=""
                                   style="display: flex;flex-direction: row;justify-content: start;
                                      align-items: center;padding: 10px 20px;margin-top: 5px;
                                      background-color: white">
                                    <div class="col-md-12" style="padding: 0px 20px">
                                        <p style="font-size:1.8em;color:black; text-align:left">
                                            @item.Content
                                        </p>
                                    </div>
                                </a>
                            }
                        </div>


                        @if (ViewBag.NbreGame == 0)
                        {
                            <div style="text-align:center; margin-top:50px">
                                <h3>-- Empty -- </h3>
                            </div>
                        }

                        @if (Model.MemberID == ViewBag.Me)
                        {
                            <div style="text-align:center; margin-top:50px">
                                <a href="" class="btn btn-primary btn-lg" style="padding:10px 30px; margin:0px 5px">Manage Games</a>
                            </div>
                        }


                    </div>
                        }
                        else
                        {
                            @*Overview*@
                            <div class="col-md-10" style="margin: 20px 15px;
                            padding:25px 50px; background-color: #F0F0F0">
                                <h1 style="text-align:left; color:black">Overview</h1>

                                <div style="margin:30px 0px; font-size:1.7em;">
                                    <table class="table table-hover table-responsive">
                                        <tr>
                                            <td>Name</td>
                                            <td>: @Model.Name</td>
                                        </tr>
                                        <tr>
                                            <td>Gender</td>
                                            <td>: @ViewBag.Gender</td>
                                        </tr>
                                        <tr>
                                            <td>Sport</td>
                                            <td>: @ViewBag.Sportname</td>
                                        </tr>
                                        <tr>
                                            <td>Active</td>
                                            @if (@Model.Active)
                                            {
                                                <td>: <span class="bg-success" style="padding:5px; font-weight:bold">Yes</span></td>
                                            }
                                            else
                                            {
                                                <td>: <span class="bg-danger" style="padding:5px; font-weight:bold">No</span></td>
                                            }
                                        </tr>
                                        <tr>
                                            <td>Description</td>
                                            <td>: @Model.Description</td>
                                        </tr>

                                    </table>

                                    @if (Model.MemberID == ViewBag.Me)
                                    {
                                        <div style="text-align:right; margin-top:50px">
                                            <a href="~/Tournaments/EditTournaments/@ViewBag.TournamentID" class="btn btn-primary" style="padding:10px 30px; margin:0px 5px">Edit</a>
                                            @if (Model.Active == true)
                                            {
                                                <a href="~/Tournaments/Delete/@ViewBag.TournamentID" class="btn btn-danger" style="padding:10px 30px; margin:0px 5px">Deactivate</a>
                                            }
                                            else
                                            {
                                                <a href="~/Tournaments/Activate/@ViewBag.TournamentID" class="btn btn-success" style="padding:10px 30px; margin:0px 5px">Activate</a>
                                            }
                                        </div>
                                    }

                                </div>

                            </div>
                        }

                    </div>

                </div>

            </div>

        </div>

    </div>

